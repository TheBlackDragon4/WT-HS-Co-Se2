<!DOCTYPE html>
<html lang="en">

<head>
    <title>Verknüpfung von Ajax mit XML</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

    <h1>&Uuml;bersicht Bestellungen anzeigen</h1>
    <button type="button" onclick="clickOnGO()">GO!</button>
    <div id="auslesen"></div>

    <script>

        function create() {
            // Deklaration
            let elementIDObjekt = document.getElementById("ausgabe");
            let querySelectorh1 = document.querySelector("h1");
            let createNewElement = document.createElement("p");

            console.log("test");

            createNewElement.innerHTML = "test";
            elementIDObjekt.appendChild(createNewElement);
        }

        function clickOnGO() {
            let myRequest = new XMLHttpRequest();
            myRequest.onload = auslesen();
            myRequest.open('GET', "PurchaseOrders.xml", true);
            myRequest.send();
        }

        function auslesen() {

            let xmlDomObjekt;
            if (myRequest.status == 200) {

                xmlDomObjekt = myRequest.responseXML;

                // Hier wird der Startknoten gesetzt
                let startKnoten = xmlDomObjekt.children[0];

                // Alle Kinder des Startknoten müssen nun abgearbeitet werden
                let child = startKnoten.children;

                // Aus dem HTML wird hier das div geholt
                let div = document.getElementById("div");

                // Hier soll die Variable TEXT für weitere Verwendung erstellt werden
                let text = "";

                for(let child of startKnoten){
                    text += "Bestellung Nr. " + child.att
                }
                

                div.innerHTML = text;

            }
        }



    </script>


</body>

</html>